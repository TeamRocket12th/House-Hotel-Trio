import{p as ve,i as ye,j as ie,k as $,l as be,r as g,s as L,m as X,n as O,o as i,f as m,a as k,u as d,b as e,F as P,c as q,w as F,g as J,q as j,T as we,v as G,t as r,x as re,y as ke,z as ee,A as te,B as h,C as w,h as Y,e as Ae}from"./index-fd6d4efb.js";import{N as Ce,P as De,b as Se,A as He,c as $e,S as se,a as oe,f as Te,L as ce,u as ae,g as Ve,e as Re}from"./LoadingItem-bc81dadd.js";import"./_plugin-vue_export-helper-c27b6911.js";function Be(){return typeof window<"u"}function Fe(t){return Be()&&t in window}function le({"min-width":t,min:o=t,max:c,raw:p}={}){return{min:o,max:c,raw:p}}function de(t,o=!0){return Array.isArray(t)?t.map(c=>{if(o&&Array.isArray(c))throw new Error("The tuple syntax is not supported for `screens`.");if(typeof c=="string")return{name:c.toString(),values:[{min:c,max:void 0}]};let[p,x]=c;return p=p.toString(),typeof x=="string"?{name:p,values:[{min:x,max:void 0}]}:Array.isArray(x)?{name:p,values:x.map(u=>le(u))}:{name:p,values:[le(x)]}}):de(Object.entries(t??{}),!1)}function Me(t){return t.map(o=>o.raw!==void 0?o.raw:[o.min&&`(min-width: ${o.min})`,o.max&&`(max-width: ${o.max})`].filter(Boolean).join(" and ")).join(", ")}var Pe={xs:"0px",sm:"640px",md:"768px",lg:"1024px",xl:"1280px"};const Ie="$screens";function Oe(t){const o=ie({screens:de(t||Pe),queries:{},matches:{},hasSetup:!1});function c(){Object.entries(o.queries).forEach(([s,n])=>{o.matches[s]=n.matches})}function p(s){return $(()=>Object.keys(o.matches).filter(n=>o.matches[n]===!0&&s.hasOwnProperty(n)).map(n=>s[n]))}const x=$(()=>Object.keys(o.matches).filter(s=>o.matches[s]));function u(s,n){return $(()=>{const a=b.value;return a&&s.hasOwnProperty(a)?s[a]:n})}const b=$(()=>{const s=x.value;return s.length?s[s.length-1]:""});function f(){Object.values(o.queries).forEach(s=>s.removeEventListener("change",c)),o.queries={},o.matches={}}return!o.hasSetup&&Fe("matchMedia")&&(f(),o.queries=o.screens.reduce((s,{name:n,values:a})=>{const l=window.matchMedia(Me(a));return l.addEventListener("change",c),s[n]=l,s},{}),c(),o.hasSetup=!0),{matches:o.matches,list:x,mapList:p,current:b,mapCurrent:u,cleanup:f}}function je(t,o){const c=Oe(t);return ve((o==null?void 0:o.injectKey)||Ie,c),ye(()=>c.cleanup()),c}const Q=be("date",()=>{const t=()=>new Date(new Date().getTime()+864e5),o=()=>{const l=new Date;l.setDate(l.getDate()+90);const v=l.getFullYear(),y=l.getMonth()+1<10?`0${l.getMonth()+1}`:l.getMonth()+1,A=l.getDate()<10?`0${l.getDate()}`:l.getDate();return`${v}-${y}-${A}`},c=g(new Date),p=new Date(c.value);p.setDate(p.getDate());const x=l=>{const v=l.getFullYear(),y=l.getMonth()+1,A=l.getDate();return`${v}, ${y}, ${A}`},u=g({start:new Date(x(p)),end:new Date(x(p))}),b=l=>{u.value=l},f=g(""),s=g(""),n=()=>{if(u.value===null)return{totalPrice:0,totalNights:0,weekends:0,weekdays:0,totalDays:0};const l=new Date(u.value.end),v=new Date(u.value.start),y=Math.ceil((l.getTime()-v.getTime())/(1e3*60*60*24));let A=0,T=0;for(let S=0;S<y;S++){const C=new Date(v.getTime()+S*864e5);C.getDay()===5||C.getDay()===6?T++:A++}const V=y+1;return{totalPrice:(A*f.value+T*s.value).toLocaleString("en-US"),totalNights:y,weekends:T,weekdays:A,totalDays:V}},a=$(()=>n());return{todayDate:c,dateRange:u,updateRange:b,normalDayPrice:f,holidayPrice:s,bookingDate:a,minDate:t,maxDate:o}});const Ee={__name:"BookingCalendar",props:{bookedDate:{type:Array,default:()=>[],required:!0}},setup(t){const o=t,{mapCurrent:c}=je({xs:"0px",sm:"640px",md:"768px",lg:"1366px"}),p=c({lg:2,md:1},1),x=g({highlight:{start:{style:{backgroundColor:"#38470B"},contentStyle:{color:"#ffffff"}},base:{style:{backgroundColor:"rgba(56, 71, 11, 0.2)"},contentStyle:{color:"#000"}},end:{style:{backgroundColor:"#949C7C"},contentStyle:{color:"#ffffff"}}}}),u=Q(),{dateRange:b}=L(u),{updateRange:f,minDate:s,maxDate:n}=u,a=g(null);a.value=b.value,X(a,y=>{f(y)});const l=g([]);X(()=>o.bookedDate,y=>{l.value=y},{immediate:!0});const v=()=>{a.value=null};return(y,A)=>{const T=O("VDatePicker");return i(),m(P,null,[k(T,{locale:"en",columns:d(p),"min-date":d(s)(),"max-date":d(n)(),"select-attribute":x.value,"drag-attribute":x.value,masks:{weekdays:"WW"},"disabled-dates":l.value,modelValue:a.value,"onUpdate:modelValue":A[0]||(A[0]=V=>a.value=V),modelModifiers:{range:!0},"is-expanded":"",class:"w-full"},null,8,["columns","min-date","max-date","select-attribute","drag-attribute","disabled-dates","modelValue"]),e("button",{type:"button",onClick:v,class:"mt-2 block text-sm text-secondary"}," 重新選取 ")],64)}}},Ne="/House-Hotel-Trio/assets/albumleft-b9dc3901.svg",Ue="/House-Hotel-Trio/assets/albumright-b5b4758a.svg",Ge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAADtJREFUKBVjZsADLNy4FkgqsT3AqQSkwMKVO2GYKwB6jwmnF9ElCIYJTMNQU8gIczg22tydewIj498JAFYrH8g8xCDXAAAAAElFTkSuQmCC";const qe={key:0},Le={class:"relative mx-auto flex h-screen justify-center pb-[76px] pt-[76px]"},Qe=["src"],ze=e("img",{src:Ne,alt:"albumArrow"},null,-1),We=[ze],Je=e("img",{src:Ue,alt:"albumRight"},null,-1),Ye=[Je],Ze={key:1,class:"relative"},Ke=e("div",{class:"image-mask pointer-events-none absolute h-full w-full"},null,-1),Xe=["src"],et=e("div",{class:"swiper-pagination room-carousel"},null,-1),tt={class:"absolute left-32 right-[343px] top-20 z-10 flex w-[100px] items-center gap-2 whitespace-nowrap text-sm text-primary"},st=e("img",{src:Ge,alt:"back-arrow"},null,-1),ot={class:"mx-auto mt-[35%] max-w-[44%] md:mt-[556px]"},at={key:0,class:"mb-3 text-center text-4xl text-primary"},lt=e("span",{class:"ml-3 text-lg text-primary lg:text-xl"},"／",-1),nt={class:"ml-4 text-xl text-primary"},it={key:1,class:"mb-3 text-center text-3xl text-primary md:text-4xl"},rt=e("span",{class:"ml-3 text-lg text-primary lg:text-xl"},"／",-1),ct=e("span",{class:"ml-4 text-xl text-primary"},"1晚",-1),dt={__name:"RoomCarousel",props:{room:{type:Object,default:()=>{},required:!0}},emits:["getShowModal"],setup(t,{emit:o}){const c=[Ce,De,Se,He,$e],p=Q(),{bookingDate:x}=L(p),u=g(!1),b=()=>{u.value=!u.value},f=()=>{o("getShowModal")};return(s,n)=>{const a=O("RouterLink");return u.value?(i(),m("div",qe,[(i(),q(we,{to:"body"},[e("div",{class:"album-mask absolute left-0 top-0 z-20 h-full w-full",onClick:b},[k(d(oe),{modules:c,navigation:{nextEl:".next-btn",prevEl:".prev-btn",clickable:!0},speed:800},{default:F(()=>[(i(!0),m(P,null,J(t.room.imageUrl,(l,v)=>(i(),q(d(se),{key:v},{default:F(()=>[e("div",Le,[e("img",{src:l,alt:"room-photo",class:"block",onClick:n[0]||(n[0]=j(()=>{},["stop"]))},null,8,Qe)])]),_:2},1024))),128)),e("div",{class:"prev-btn absolute left-3 top-[50%] z-50 cursor-pointer hover:scale-110 md:left-32",onClick:n[1]||(n[1]=j(()=>{},["stop"]))},We),e("div",{class:"next-btn absolute right-3 top-[50%] z-50 cursor-pointer hover:scale-110 md:right-32",onClick:n[2]||(n[2]=j(()=>{},["stop"]))},Ye)]),_:1},8,["navigation"])])]))])):(i(),m("div",Ze,[k(d(oe),{modules:c,pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},autoplay:{delay:2e3},speed:1e3,loop:!0,class:"h-screen"},{default:F(()=>[(i(!0),m(P,null,J(t.room.imageUrl,(l,v)=>(i(),q(d(se),{key:v},{default:F(()=>[Ke,e("img",{src:l,alt:"room-photo",class:"h-full w-full object-cover"},null,8,Xe)]),_:2},1024))),128)),et]),_:1},8,["pagination"]),e("div",{class:"absolute bottom-0 left-0 right-0 top-0 z-10 flex cursor-pointer flex-col",onClick:b},[e("div",tt,[st,k(a,{to:"/"},{default:F(()=>[G("查看其他房型")]),_:1})]),e("div",ot,[d(x).totalNights>0?(i(),m("p",at,[G(" $"+r(d(x).totalPrice)+" ",1),lt,e("span",nt,r(d(x).totalNights)+"晚",1)])):(i(),m("p",it,[G(" $"+r(t.room.normalDayPrice)+" ",1),rt,ct])),e("button",{class:"flex w-full justify-center bg-primary py-2 text-center text-base font-semibold text-white hover:bg-secondary md:text-xl lg:whitespace-nowrap lg:px-16",onClick:[n[3]||(n[3]=j(()=>{},["stop"])),f]}," Booking now ")])])]))}}},mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAAXNSR0IArs4c6QAAAOBJREFUKBVjNnfj/iCrxPbiyb3fFxjwAFNXbgNZFbbrUkpsO5kY/zMUMDAxzLdw5U7ApQekgYmRYT8jw/+Np3d/vcAMskFGie0hSCOIRrcRWcOJXd/ABjODTMelEZsGkHqwJmwaJZXZGGBOgtkAUgcCjBAKQYL9BnTq//8MH0B+QNcAUsmEUA5h/WVguADWwMggwPCf8QC6PIgPdx6Ig+wHoIaJuAIHrglZA8hJuAIHbhO6BpAECODSyIxLA0Qbdo2MoGQEDKUN2EIJphFEw0L17z8GQ7DnkSXxsUGuAskDAGQZk2E7rT98AAAAAElFTkSuQmCC",ut="/House-Hotel-Trio/assets/icon_amenities_Air-Conditioner-74d411d4.svg",pt="/House-Hotel-Trio/assets/icon_amenities_Breakfast-a0fad61a.svg",xt="/House-Hotel-Trio/assets/icon_amenities_Child-Friendly-cebb8c13.svg",_t="/House-Hotel-Trio/assets/icon_amenities_Great-View-b8d611e5.svg",ht="/House-Hotel-Trio/assets/icon_amenities_Mini-Bar-1885e108.svg",gt="/House-Hotel-Trio/assets/icon_amenities_Pet-Friendly-6c7addd2.svg",ft="/House-Hotel-Trio/assets/icon_amenities_Refrigerator-10509a21.svg",vt="/House-Hotel-Trio/assets/icon_amenities_Room-Service-6e9a6847.svg",yt="/House-Hotel-Trio/assets/icon_amenities_Smoke-Free-5b0ddbd3.svg",bt="/House-Hotel-Trio/assets/icon_amenities_Sofa-087c4de9.svg",wt="/House-Hotel-Trio/assets/icon_amenities_Television-3a89c15f.svg",kt="/House-Hotel-Trio/assets/icon_amenities_Wi-Fi-9359dbbd.svg",At="/House-Hotel-Trio/assets/reservationflow_step_1-891c76e9.svg",ne="/House-Hotel-Trio/assets/icon_datepicker_arrow_right-2c54f39f.svg",Ct="/House-Hotel-Trio/assets/reservationflow_step_2-f1c48035.svg",Dt="/House-Hotel-Trio/assets/reservationflow_step_3-844fe6bf.svg",me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAABgUlEQVQokX2SvUtbYRTGz40Fi/Yf6Kqbkw5ugovBRSQOokNBBz+CYAsZ4mQo1dhYDGlAk5oYiRep7a0aGwWNtH602oCLg4v/R9HrlXB+HTQh0dgHDrwvz/m9cJ7ziqry43h9BZD/KRR906mqtLrrmyV/lssAbGSTi4BUg+dTgW6A/qEWCxABJDjnDQBEYv53D0HTivSqKum1D/mSd3+o2T+0VgAy20sJoAaQo9Pt8UKhQFd/w2fAVfFg8dLV1zgCEIn7p3/+2hpzHFtTqzOnRb8qBLi+bC7MA9g3V/o7v3NZDXCJiBiGIYZhiIjoWiZmXtt/eV5bZ5xf/NkszlbWU6nc4bdRgMmZgb1ofCIISsp8H35yHbkDa1hVMb+GSymtZxNxgA7Py6FH4Pfd9ICqEl7wHZSnBEgsFQg5jk3PqyZvCVxMT3lUFa/PvfVw6GINjrW9vrav+LT8dhYQUVWS5vQJ8OJRrGXJrlofo7e3zt03anXXN1drLte998w32dsOyD+LnGSCBai5PgAAAABJRU5ErkJggg==",ue="/House-Hotel-Trio/assets/icon_booking_success-02140359.svg",St={key:0,class:"flex w-full flex-col-reverse items-stretch justify-between border border-primary bg-white font-tc lg:flex-row"},Ht={class:"bg-primary lg:w-[445px]"},$t={class:"px-[30px] pb-[26px] pt-[50px] lg:px-[65px]"},Tt={for:"name",class:"text-[14px] text-white"},Vt=e("span",null,"姓名",-1),Rt={for:"name",class:"mt-4 text-[14px] text-white"},Bt=e("span",null,"手機號碼",-1),Ft={class:"mt-4"},Mt=e("label",{for:"",class:"mt-4 text-[14px] text-white"},"入住日期 ",-1),Pt=["value"],It={class:"mt-4"},Ot=e("label",{for:"",class:"text-[14px] text-white"},"退房日期",-1),jt=["value"],Et={key:0,class:"mt-4 w-full border-b border-[#949C7C] pb-[14px] text-[#949C7C]"},Nt={key:0},Ut={key:1},Gt={key:2,class:"text-sm text-yellow-400"},qt={class:"mt-4 text-right text-white"},Lt=e("p",{class:"text-sm"},"總計",-1),Qt={class:"openSans text-[26px] font-semibold"},zt=["disabled","onClick"],Wt=e("p",{class:"mt-[18px] text-center text-xs text-white"}," 此預約系統僅預約功能，並不會對您進行收費 ",-1),Jt={class:"relative px-[30px] lg:pr-[20px] xl:pr-[100px]"},Yt={class:"mt-2 flex items-center md:mt-12"},Zt={class:"mt-[30px] inline-block whitespace-nowrap text-2xl font-black md:mt-0"},Kt=e("div",{class:"ml-2 mt-[30px] h-[1px] w-[80%] border-b md:mt-0"},null,-1),Xt={class:"mt-2 text-sm leading-[1.7]"},es=e("br",null,null,-1),ts={class:"my-[26px] flex flex-wrap gap-x-[30px]"},ss=e("img",{src:ut,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),os=e("p",{class:"mt-2 text-[#949C7C]"},"空調",-1),as=[ss,os],ls=e("img",{src:pt,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),ns=e("p",{class:"mt-2 text-[#949C7C]"},"早餐",-1),is=[ls,ns],rs=e("img",{src:xt,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),cs=e("p",{class:"mt-2 text-[#949C7C]"},"適合小孩",-1),ds=[rs,cs],ms=e("img",{src:_t,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),us=e("p",{class:"mt-2 text-[#949C7C]"},"美麗的風景",-1),ps=[ms,us],xs=e("img",{src:ht,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),_s=e("p",{class:"mt-2 text-[#949C7C]"},"Mini Bar",-1),hs=[xs,_s],gs=e("img",{src:gt,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),fs=e("p",{class:"mt-2 text-[#949C7C]"},"攜帶寵物",-1),vs=[gs,fs],ys=e("img",{src:ft,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),bs=e("p",{class:"mt-2 text-[#949C7C]"},"冰箱",-1),ws=[ys,bs],ks=e("img",{src:vt,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),As=e("p",{class:"mt-2 text-[#949C7C]"},"客房服務",-1),Cs=[ks,As],Ds=e("img",{src:yt,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),Ss=e("p",{class:"mt-2 text-[#949C7C]"},"全面禁菸",-1),Hs=[Ds,Ss],$s=e("img",{src:bt,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),Ts=e("p",{class:"mt-2 text-[#949C7C]"},"沙發",-1),Vs=[$s,Ts],Rs=e("img",{src:wt,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),Bs=e("p",{class:"mt-2 text-[#949C7C]"},"電話",-1),Fs=[Rs,Bs],Ms=e("img",{src:kt,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),Ps=e("p",{class:"mt-2 text-[#949C7C]"},"WIFI",-1),Is=[Ms,Ps],Os=e("div",{class:"mt-2 flex items-center"},[e("h3",{class:"inline-block whitespace-nowrap text-[16px] font-black"},"訂房資訊"),e("div",{class:"ml-2 h-[1px] w-[100%] border-b"})],-1),js={class:"my-[12px] text-[10px]"},Es={class:"py-[2px]"},Ns=e("li",{class:"mt-[6px] py-[2px]"},"・平日定義週一至週四；假日定義週五至週日及國定假日。",-1),Us={class:"mt-[6px] py-[2px]"},Gs=e("li",{class:"mt-[6px] py-[2px]"}," ・若您有任何問題，歡迎撥打 03-8321155 ( 服務時間 週一至週六 10:00 - 18:00 )。 ",-1),qs=Y('<div class="mt-2 flex items-center"><h3 class="inline-block whitespace-nowrap text-[16px] font-black">預約流程</h3><div class="ml-2 h-[1px] w-[100%] border-b"></div></div><ul class="my-[19px] flex flex-col items-center justify-between gap-2 md:flex-row md:items-start"><li class="rounded-b-lg border border-[#949C7C] text-center"><div class="flex h-[50px] w-[160px] items-center justify-center bg-[#949C7C]"><img src="'+At+'" alt="icon"></div><div class="my-[12px] h-[64px] w-[160px] px-2 text-[10px]">送出線上預約單</div></li><img src="'+ne+'" alt="icon" class="mt-5 hidden md:block"><li class="rounded-b-lg border border-[#949C7C] text-center"><div class="flex h-[50px] w-[160px] items-center justify-center bg-[#949C7C]"><img src="'+Ct+'" alt="icon"></div><div class="my-[12px] h-[64px] w-[160px] px-2 text-[10px]"> 系統立即回覆是否預訂成功 並以簡訊發送訂房通知 <br>(若未收到簡訊請來電確認) </div></li><img src="'+ne+'" alt="icon" class="mt-5 hidden md:block"><li class="rounded-b-lg border border-[#949C7C] text-center"><div class="flex h-[50px] w-[160px] items-center justify-center bg-[#949C7C]"><img src="'+Dt+'" alt="icon"></div><div class="my-[12px] h-[64px] w-[160px] px-2 text-[10px]"> 入住當日憑訂房通知 以現金或刷卡付款即可 <br>(僅接受VISA.JCB.銀聯卡) </div></li></ul>',2),Ls={key:1,class:"relative flex h-[740px] w-full flex-col items-center justify-center border border-primary bg-primary py-[120px] text-center font-tc text-white lg:h-[600px]"},Qs=e("img",{src:me,alt:"icon"},null,-1),zs=[Qs],Ws=Y('<div class="flex"><img src="'+ue+'" alt="icon"></div><h2 class="mt-[40px] text-[32px] lg:text-[50px]">預約成功</h2><p class="mt-[40px] px-[30px] lg:hidden"> 請留意簡訊發送訂房通知，入住當日務必出示此訂房通知，<br>若未收到簡訊請來電確認，謝謝您 </p><p class="mt-[40px] hidden px-[30px] lg:block"> 請留意簡訊發送訂房通知，<br>入住當日務必出示此訂房通知，<br>若未收到簡訊請來電確認，謝謝您 </p>',4),Js={key:2,class:"relative flex h-[740px] w-full flex-col items-center justify-center border border-primary bg-primary py-[120px] text-center font-tc text-white lg:h-[600px]"},Ys=e("img",{src:me,alt:"icon"},null,-1),Zs=[Ys],Ks=Y('<div class="flex"><img src="'+ue+'" alt="icon"></div><h2 class="mt-[40px] text-[32px] lg:text-[50px]">預約失敗</h2><p class="mt-[40px] px-[30px] lg:hidden"> 哎呀！晚了一步！ <br>您預約的日期已經被預約走了， <br>再看看其它房型吧 </p><p class="mt-[40px] hidden px-[30px] lg:block"> 哎呀！晚了一步！您預約的日期已經被預約走了， <br>再看看其它房型吧 </p>',4),Xs={__name:"BookingForm",props:{room:{type:Object,default:()=>{},required:!0},getRoomDetail:{type:Function,required:!0},bookedDate:{type:Array,default:()=>[],required:!0}},emits:["getCloseModal","formValue"],setup(t,{emit:o}){const c=t,x=`${re().params.id}`,u=g(!0),b=g(!1),f=g(!1),s=Q(),{dateRange:n,bookingDate:a}=L(s),{minDate:l,maxDate:v,updateRange:y}=s,A=()=>{o("getCloseModal")},T=()=>{u.value=!0,f.value=!1,b.value=!1,V()},V=()=>{o("formValue",u.value)},_=Object.values(c.room.amenities).filter(B=>B===!0),S=B=>B?/^(09)[0-9]{8}$/.test(B)?!0:"請輸入09開頭的10位數手機號碼":"*此欄位為必填",C=g({start:"",end:""});n.value!==null&&(C.value.start=n.value.start,C.value.end=n.value.end),ke(()=>{y(C.value)});const Z=g({highlight:{start:{style:{backgroundColor:"#38470B"},contentStyle:{color:"#ffffff"}},base:{style:{backgroundColor:"rgba(56, 71, 11, 0.2)"},contentStyle:{color:"#000"}},end:{style:{backgroundColor:"#949C7C"},contentStyle:{color:"#ffffff"}}}}),pe=B=>{const H=[],E=JSON.parse(JSON.stringify(B.value)),R=new Date(E.start),N=new Date(E.end);for(;N-R>=0;){const W=R.getFullYear(),I=N.getMonth(),D=I<9?"0"+(I+1):I+1,U=R.getDate().toString().length==1?"0"+R.getDate():R.getDate();H.push(W+"-"+D+"-"+U),R.setDate(R.getDate()+1)}return H},xe=$(()=>pe(C)),M=ie({name:"",tel:"",date:xe}),_e=async()=>{try{(await Te(x,M)).status===200&&(u.value=!1,b.value=!0,M.name="",M.tel="",c.getRoomDetail(),V())}catch{u.value=!1,f.value=!0,V()}},K=$(()=>[...c.bookedDate]),he=$(()=>a.value.totalDays>0&&a.value.weekends===0&&a.value.totalNights!==0),ge=$(()=>a.value.totalDays>0&&a.value.weekends>0),fe=$(()=>a.value.totalNights<=0);return(B,H)=>{const E=O("ErrorMessage"),R=O("VField"),N=O("VDatePicker"),W=O("VForm");return i(),m(P,null,[u.value?(i(),m("div",St,[e("div",Ht,[e("div",$t,[k(W,null,{default:F(({meta:I})=>[e("label",null,[e("div",Tt,[Vt,k(E,{name:"name",class:"ml-2 text-yellow-400"})]),k(R,{rules:{required:"*此欄位為必填"},label:"此欄位",name:"name",type:"text",id:"name",class:"mt-[7px] h-[38px] w-full p-2 outline-none lg:w-[315px]",placeholder:"請填寫預定人姓名",modelValue:M.name,"onUpdate:modelValue":H[0]||(H[0]=D=>M.name=D)},null,8,["modelValue"])]),e("label",null,[e("div",Rt,[Bt,k(E,{name:"phone",class:"ml-2 text-yellow-400"})]),k(R,{name:"phone",type:"tel",rules:S,id:"name",class:"mt-[7px] h-[38px] w-full p-2 outline-none lg:w-[315px]",placeholder:"請填寫預定人手機號碼",maxLength:"10",modelValue:M.tel,"onUpdate:modelValue":H[1]||(H[1]=D=>M.tel=D)},null,8,["modelValue"])]),e("div",Ft,[Mt,k(N,{modelValue:C.value.start,"onUpdate:modelValue":H[2]||(H[2]=D=>C.value.start=D),locale:"en","select-attribute":Z.value,masks:{weekdays:"WW"},"min-date":d(l)(),"max-date":d(v)(),"disabled-dates":K.value,"is-required":""},{default:F(({inputValue:D,inputEvents:U})=>[e("input",ee({value:D},te(U,!0),{class:"mt-[7px] block h-[38px] w-full p-2 font-normal outline-none lg:w-[315px]",placeholder:"請填寫入住日期"}),null,16,Pt)]),_:1},8,["modelValue","select-attribute","min-date","max-date","disabled-dates"])]),e("div",It,[Ot,k(N,{modelValue:C.value.end,"onUpdate:modelValue":H[3]||(H[3]=D=>C.value.end=D),locale:"en","select-attribute":Z.value,masks:{weekdays:"WW"},"min-date":d(l)(),"max-date":d(v)(),"disabled-dates":K.value,"is-required":""},{default:F(({inputValue:D,inputEvents:U})=>[e("input",ee({value:D},te(U,!0),{class:"mt-[7px] block h-[38px] w-full p-2 font-normal outline-none lg:w-[315px]",placeholder:"請填寫退房日期"}),null,16,jt)]),_:1},8,["modelValue","select-attribute","min-date","max-date","disabled-dates"])]),d(a).totalDays?(i(),m("div",Et,[he.value?(i(),m("p",Nt,r(d(a).totalDays)+"天，"+r(d(a).weekdays)+"晚平日 ",1)):h("",!0),ge.value?(i(),m("p",Ut,r(d(a).totalDays)+"天，"+r(d(a).weekdays)+"晚平日，"+r(d(a).weekends)+"晚假日 ",1)):h("",!0),fe.value?(i(),m("span",Gt,"請先輸入預定日期")):h("",!0)])):h("",!0),e("div",qt,[Lt,e("p",Qt,"$"+r(d(a).totalPrice),1)]),e("button",{type:"button",disabled:!I.valid,class:w([I.valid?"border-white  text-white":"border-gray-400  text-gray-400","duration-totalDay00 mt-4 w-full border py-2 text-[18px] font-bold hover:bg-white hover:text-primary"]),onClick:j(_e,["prevent"])}," 確認送出 ",10,zt),Wt]),_:1})])]),e("div",Jt,[e("img",{src:mt,onClick:A,alt:"icon",class:"absolute right-[28px] top-[28px] cursor-pointer md:right-[30px] md:top-[38px] lg:right-[38px]"}),e("div",Yt,[e("h2",Zt,r(t.room.name),1),Kt]),e("p",Xt,[G(r(t.room.descriptionShort.GuestMax)+"人・ "+r(t.room.descriptionShort.Bed[0]==="Single"?"單人床":"雙人床")+"・ "+r(t.room.amenities.Breakfast?"附早餐・":"不附早餐・")+" 衛浴"+r(t.room.descriptionShort["Private-Bath"])+"間・ "+r(t.room.descriptionShort.Footage)+"平方公尺",1),es,G(" 平日（一～四）價格："+r(t.room.normalDayPrice)+" / 假日（五〜日）價格："+r(t.room.holidayPrice),1)]),e("ul",ts,[t.room.amenities["Air-Conditioner"]?(i(),m("li",{key:0,class:w(["flex flex-col items-center text-[10px] text-primary",d(_).length>7?"w-[60px] py-2":"py-1"])},as,2)):h("",!0),t.room.amenities.Breakfast?(i(),m("li",{key:1,class:w(["flex flex-col items-center text-[10px] text-primary",d(_).length>7?"w-[60px] py-2":"py-1 "])},is,2)):h("",!0),t.room.amenities["Child-Friendly"]?(i(),m("li",{key:2,class:w(["flex flex-col items-center text-[10px] text-primary",d(_).length>7?"w-[60px] py-2":"py-1 "])},ds,2)):h("",!0),t.room.amenities["Great-View"]?(i(),m("li",{key:3,class:w(["flex flex-col items-center text-[10px] text-primary",d(_).length>7?"w-[60px] py-2":"py-1 "])},ps,2)):h("",!0),t.room.amenities["Mini-Bar"]?(i(),m("li",{key:4,class:w(["flex flex-col items-center text-[10px] text-primary",d(_).length>7?"w-[60px] py-2":"py-1 "])},hs,2)):h("",!0),t.room.amenities["Pet-Friendly"]?(i(),m("li",{key:5,class:w(["flex flex-col items-center text-[10px] text-primary",d(_).length>7?"w-[60px] py-2":"py-1 "])},vs,2)):h("",!0),t.room.amenities.Refrigerator?(i(),m("li",{key:6,class:w(["flex flex-col items-center text-[10px] text-primary",d(_).length>7?"w-[60px] py-2":"py-1 "])},ws,2)):h("",!0),t.room.amenities["Room-Service"]?(i(),m("li",{key:7,class:w(["flex flex-col items-center text-[10px] text-primary",d(_).length>7?"w-[60px] py-2":"py-1 "])},Cs,2)):h("",!0),t.room.amenities["Smoke-Free"]?(i(),m("li",{key:8,class:w(["flex flex-col items-center text-[10px] text-primary",d(_).length>7?"w-[60px] py-2":"py-1 "])},Hs,2)):h("",!0),t.room.amenities.Sofa?(i(),m("li",{key:9,class:w(["flex flex-col items-center text-[10px] text-primary",d(_).length>7?"w-[60px] py-2":"py-1 "])},Vs,2)):h("",!0),t.room.amenities.Television?(i(),m("li",{key:10,class:w(["flex flex-col items-center text-[10px] text-primary",d(_).length>7?"w-[60px] py-2":"py-1 "])},Fs,2)):h("",!0),t.room.amenities["Wi-Fi"]?(i(),m("li",{key:11,class:w(["flex flex-col items-center text-[10px] text-primary",d(_).length>7?"w-[60px] py-2":"py-1 "])},Is,2)):h("",!0)]),Os,e("ul",js,[e("li",Es," ・入住時間：最早"+r(t.room.checkInAndOut.checkInEarly)+"，最晚"+r(t.room.checkInAndOut.checkInLate)+"；退房時間："+r(t.room.checkInAndOut.checkOut)+"，請自行確認行程安排。 ",1),Ns,e("li",Us," ・好室旅店"+r(t.room.amenities["Smoke-Free"]===!0?"全面禁止吸菸。":"房間內可吸菸。"),1),Gs]),qs])])):h("",!0),b.value?(i(),m("div",Ls,[e("button",{type:"button",onClick:T,class:"absolute right-[39px] top-[39px] cursor-pointer"},zs),Ws])):h("",!0),f.value?(i(),m("div",Js,[e("button",{type:"button",onClick:T,class:"absolute right-[39px] top-[39px] cursor-pointer"},Zs),Ks])):h("",!0)],64)}}},eo="/House-Hotel-Trio/assets/icon_amenities_Air-Conditioner-74d411d4.svg",to="/House-Hotel-Trio/assets/icon_amenities_Breakfast-a0fad61a.svg",so="/House-Hotel-Trio/assets/icon_amenities_Child-Friendly-cebb8c13.svg",oo="/House-Hotel-Trio/assets/icon_amenities_Great-View-b8d611e5.svg",ao="/House-Hotel-Trio/assets/icon_amenities_Mini-Bar-1885e108.svg",lo="/House-Hotel-Trio/assets/icon_amenities_Pet-Friendly-6c7addd2.svg",no="/House-Hotel-Trio/assets/icon_amenities_Refrigerator-10509a21.svg",io="/House-Hotel-Trio/assets/icon_amenities_Room-Service-6e9a6847.svg",ro="/House-Hotel-Trio/assets/icon_amenities_Smoke-Free-5b0ddbd3.svg",co="/House-Hotel-Trio/assets/icon_amenities_Sofa-087c4de9.svg",mo="/House-Hotel-Trio/assets/icon_amenities_Television-3a89c15f.svg",uo="/House-Hotel-Trio/assets/icon_amenities_Wi-Fi-9359dbbd.svg",po={key:0,class:"detail text-primary md:pl-7"},xo={class:"mb-[47px] flex justify-between"},_o={class:"text-2xl md:text-4xl"},ho={class:"flex text-xs font-bold"},go={class:"whitespace-nowrap"},fo={class:"whitespace-nowrap"},vo={class:"whitespace-nowrap"},yo={class:"whitespace-nowrap"},bo={class:"whitespace-nowrap"},wo={class:"mb-[35px] text-xs"},ko={class:"mb-12 text-xs font-light md:mb-8"},Ao=e("li",null,"・您需要的一切為您準備：床單和毯子，毛巾，肥皂和洗髮水，吹風機",-1),Co=e("li",null,"・房間裡有AC，當然還有WiFi。",-1),Do={class:"grid grid-cols-6 flex-wrap"},So={class:"flex flex-col items-center justify-center"},Ho={class:"mb-2 flex h-[40px] items-center"},$o=["src"],To={class:"text-xs"},Vo=["src"],Ro={__name:"SingleRoomDetail",props:{room:{type:Object,default:()=>{},required:!0}},setup(t){const o=t,c=$(()=>Object.keys(o.room.amenities)),p=$(()=>Object.values(o.room.amenities)),x=s=>new URL(Object.assign({"../assets/images/amenities/icon_amenities_Air-Conditioner.svg":eo,"../assets/images/amenities/icon_amenities_Breakfast.svg":to,"../assets/images/amenities/icon_amenities_Child-Friendly.svg":so,"../assets/images/amenities/icon_amenities_Great-View.svg":oo,"../assets/images/amenities/icon_amenities_Mini-Bar.svg":ao,"../assets/images/amenities/icon_amenities_Pet-Friendly.svg":lo,"../assets/images/amenities/icon_amenities_Refrigerator.svg":no,"../assets/images/amenities/icon_amenities_Room-Service.svg":io,"../assets/images/amenities/icon_amenities_Smoke-Free.svg":ro,"../assets/images/amenities/icon_amenities_Sofa.svg":co,"../assets/images/amenities/icon_amenities_Television.svg":mo,"../assets/images/amenities/icon_amenities_Wi-Fi.svg":uo})[`../assets/images/amenities/icon_amenities_${s}.svg`],self.location).href,u=s=>{const n=["Wi-fi","早餐","Mini-Bar","Room-Service","電話","空調","冰箱","沙發","漂亮的視野","全面禁菸","適合兒童","攜帶寵物"],a=c.value.indexOf(s);return n[a]},b=s=>{const n=c.value.indexOf(s);return p.value[n]===!0?new URL("/House-Hotel-Trio/assets/icons-ok-6d263546.svg",self.location).href:new URL("/House-Hotel-Trio/assets/icons-cancel-5f656e89.svg",self.location).href},f=s=>{const n=c.value.indexOf(s);return p.value[n]===!0};return(s,n)=>(i(),m(P,null,[k(ce,{active:!t.room.id},null,8,["active"]),t.room.id?(i(),m("div",po,[e("div",xo,[e("h1",_o,r(t.room.name),1),e("ul",ho,[e("li",go,r(t.room.descriptionShort.GuestMax)+"人・",1),e("li",fo,r(t.room.descriptionShort.GuestMax===1?"單人床":"雙人床")+"・ ",1),e("li",vo,r(t.room.amenities.Breakfast===!0?"附早餐":"不附早餐")+"・ ",1),e("li",yo,"衛浴"+r(t.room.descriptionShort["Private-Bath"])+"間・",1),e("li",bo,r(t.room.descriptionShort.Footage)+"平方公尺",1)])]),e("ul",wo,[e("li",null," 平日（一～四）價格："+r(t.room.normalDayPrice)+" / 假日（五〜日）價格："+r(t.room.holidayPrice),1),e("li",null," 入住時間："+r(t.room.checkInAndOut.checkInEarly)+"（最早）/ "+r(t.room.checkInAndOut.checkInLate)+"（最晚） ",1),e("li",null,"退房時間："+r(t.room.checkInAndOut.checkOut),1)]),e("ul",ko,[e("li",null," ・"+r(t.room.descriptionShort.GuestMax===1?"單人間":"多人間")+"僅供"+r(t.room.descriptionShort.GuestMax)+"位客人使用。 ",1),e("li",null," ・臥室配有"+r(t.room.descriptionShort.GuestMax===1?"單人床":"雙人床")+"和"+r(t.room.descriptionShort["Private-Bath"]==!0?"私人浴室":"")+"。 ",1),Ao,Co]),e("ul",Do,[(i(!0),m(P,null,J(c.value,(a,l)=>(i(),m("li",{key:l,class:"relative mb-[25px]"},[e("div",{class:w(`absolute z-10 h-full w-full bg-white filter ${f(a)?"opacity-0":"opacity-80"}`)},null,2),e("div",So,[e("div",Ho,[e("img",{src:x(a),alt:"icon",class:"h-auto"},null,8,$o)]),e("p",To,r(u(a)),1)]),e("img",{src:b(a),alt:"icon",class:"absolute right-5 top-0"},null,8,Vo)]))),128))])])):h("",!0)],64))}};const Bo={class:"container relative mx-auto flex flex-wrap"},Fo={class:"h-[50vh] w-full overflow-hidden md:h-screen md:w-[42%] md:pr-4"},Mo={class:"mb-4 h-screen w-full pl-2 pr-2 pt-4 md:w-[58%] md:overflow-y-auto md:pl-4 md:pr-0 md:pt-[120px]"},jo={__name:"ReservationView",setup(t){const{changeStateTrue:o}=ae(),{changeStateFalse:c}=ae(),p=Q(),{normalDayPrice:x,holidayPrice:u}=L(p),f=`${re().params.id}`,s=g({}),n=g([]),a=g([]),l=g(!1),v=()=>{l.value=!l.value},y=()=>{l.value=!l.value},A=_=>{const S=[];return _.forEach(C=>{S.push(C.date)}),S},T=async()=>{try{const _=await Ve(f);_.status===200&&(s.value=await _.data.room[0],n.value=await _.data.booking,a.value=A(n.value),x.value=s.value.normalDayPrice,u.value=s.value.holidayPrice,c())}catch(_){Re(_.message)}},V=g(!0),z=_=>{V.value=_};return Ae(()=>{o(),T()}),(_,S)=>(i(),m(P,null,[k(ce),e("div",Bo,[e("div",Fo,[s.value?(i(),q(dt,{key:0,room:s.value,onGetShowModal:v},null,8,["room"])):h("",!0)]),e("div",Mo,[k(Ro,{room:s.value,class:"h-auto w-full"},null,8,["room"]),k(Ee,{"booked-date":a.value},null,8,["booked-date"])])]),l.value?(i(),m("div",{key:0,class:w(V.value?"absolute left-1/2 top-1/2 z-30 h-full w-full translate-x-[-50%] translate-y-[-50%] bg-white/40 backdrop-invert backdrop-opacity-10 md:h-[1950px] lg:left-1/2 lg:top-1/2 lg:h-full lg:translate-x-[-50%] lg:translate-y-[-50%]":"absolute left-1/2 top-1/2 z-30 h-full w-full translate-x-[-50%] translate-y-[-50%] bg-white/40 backdrop-invert backdrop-opacity-10 md:h-[740px] lg:left-1/2 lg:top-1/2 lg:h-full lg:translate-x-[-50%] lg:translate-y-[-50%]"),onClick:y},[e("div",{onClick:S[0]||(S[0]=j(()=>{},["stop"])),class:w(V.value?"container absolute left-1/2  top-[155%]  z-30 mx-auto flex  translate-x-[-50%] translate-y-[-50%] flex-wrap md:top-[65%]  md:translate-y-[-50%] lg:left-1/2 lg:top-1/2 lg:w-[1110px] lg:translate-x-[-50%] lg:translate-y-[-50%]":"container absolute left-1/2  top-[50%]  z-30 mx-auto flex translate-x-[-50%] translate-y-[-50%] flex-wrap md:top-[25%]  md:translate-y-[-25%] lg:left-1/2 lg:top-1/2 lg:w-[1110px] lg:translate-x-[-50%] lg:translate-y-[-50%]")},[k(Xs,{onGetCloseModal:y,room:s.value,"booked-date":a.value,"get-room-detail":T,onFormValue:z},null,8,["room","booked-date"])],2)],2)):h("",!0)],64))}};export{jo as default};
