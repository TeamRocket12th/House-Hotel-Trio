import{p as ye,i as ve,j as ie,k as V,l as be,r as f,s as Q,m as X,n as P,o as i,f as u,a as k,u as d,b as e,F as I,c as q,w as M,g as J,q as j,T as we,v as G,t as r,x as re,y as ke,z as ee,A as te,B as g,C as w,h as Y,e as Ae}from"./index-0c1332d1.js";import{N as Ce,P as De,b as Se,A as $e,c as Ve,S as se,a as oe,f as Be,L as ce,u as le,g as He,e as Re}from"./LoadingItem-3d148341.js";import"./_plugin-vue_export-helper-c27b6911.js";function Fe(){return typeof window<"u"}function Me(t){return Fe()&&t in window}function ae({"min-width":t,min:o=t,max:c,raw:p}={}){return{min:o,max:c,raw:p}}function de(t,o=!0){return Array.isArray(t)?t.map(c=>{if(o&&Array.isArray(c))throw new Error("The tuple syntax is not supported for `screens`.");if(typeof c=="string")return{name:c.toString(),values:[{min:c,max:void 0}]};let[p,x]=c;return p=p.toString(),typeof x=="string"?{name:p,values:[{min:x,max:void 0}]}:Array.isArray(x)?{name:p,values:x.map(m=>ae(m))}:{name:p,values:[ae(x)]}}):de(Object.entries(t??{}),!1)}function Te(t){return t.map(o=>o.raw!==void 0?o.raw:[o.min&&`(min-width: ${o.min})`,o.max&&`(max-width: ${o.max})`].filter(Boolean).join(" and ")).join(", ")}var Ie={xs:"0px",sm:"640px",md:"768px",lg:"1024px",xl:"1280px"};const Oe="$screens";function Pe(t){const o=ie({screens:de(t||Ie),queries:{},matches:{},hasSetup:!1});function c(){Object.entries(o.queries).forEach(([s,a])=>{o.matches[s]=a.matches})}function p(s){return V(()=>Object.keys(o.matches).filter(a=>o.matches[a]===!0&&s.hasOwnProperty(a)).map(a=>s[a]))}const x=V(()=>Object.keys(o.matches).filter(s=>o.matches[s]));function m(s,a){return V(()=>{const l=b.value;return l&&s.hasOwnProperty(l)?s[l]:a})}const b=V(()=>{const s=x.value;return s.length?s[s.length-1]:""});function _(){Object.values(o.queries).forEach(s=>s.removeEventListener("change",c)),o.queries={},o.matches={}}return!o.hasSetup&&Me("matchMedia")&&(_(),o.queries=o.screens.reduce((s,{name:a,values:l})=>{const n=window.matchMedia(Te(l));return n.addEventListener("change",c),s[a]=n,s},{}),c(),o.hasSetup=!0),{matches:o.matches,list:x,mapList:p,current:b,mapCurrent:m,cleanup:_}}function je(t,o){const c=Pe(t);return ye((o==null?void 0:o.injectKey)||Oe,c),ve(()=>c.cleanup()),c}const z=be("date",()=>{const t=()=>new Date(new Date().getTime()+864e5),o=()=>{const n=new Date;n.setDate(n.getDate()+90);const y=n.getFullYear(),v=n.getMonth()+1<10?`0${n.getMonth()+1}`:n.getMonth()+1,A=n.getDate()<10?`0${n.getDate()}`:n.getDate();return`${y}-${v}-${A}`},c=f(new Date),p=new Date(c.value);p.setDate(p.getDate());const x=n=>{const y=n.getFullYear(),v=n.getMonth()+1,A=n.getDate();return`${y}, ${v}, ${A}`},m=f({start:new Date(x(p)),end:new Date(x(p))}),b=n=>{m.value=n},_=f(""),s=f(""),a=()=>{if(m.value===null)return{totalPrice:0,totalNights:0,weekends:0,weekdays:0,totalDays:0};const n=new Date(m.value.end),y=new Date(m.value.start),v=Math.ceil((n.getTime()-y.getTime())/(1e3*60*60*24));let A=0,B=0;for(let S=0;S<v;S++){const C=new Date(y.getTime()+S*864e5);C.getDay()===5||C.getDay()===6?B++:A++}const H=v+1;return{totalPrice:(A*_.value+B*s.value).toLocaleString("en-US"),totalNights:v,weekends:B,weekdays:A,totalDays:H}},l=V(()=>a());return{todayDate:c,dateRange:m,updateRange:b,normalDayPrice:_,holidayPrice:s,bookingDate:l,minDate:t,maxDate:o}});const Ee={__name:"BookingCalendar",props:{bookedDate:{type:Array,default:()=>[],required:!0}},setup(t){const o=t,{mapCurrent:c}=je({xs:"0px",sm:"640px",md:"768px",lg:"1366px"}),p=c({lg:2,md:1},1),x=f({highlight:{start:{style:{backgroundColor:"#38470B"},contentStyle:{color:"#ffffff"}},base:{style:{backgroundColor:"rgba(56, 71, 11, 0.2)"},contentStyle:{color:"#000"}},end:{style:{backgroundColor:"#949C7C"},contentStyle:{color:"#ffffff"}}}}),m=z(),{dateRange:b}=Q(m),{updateRange:_,minDate:s,maxDate:a}=m,l=f(null);l.value=b.value,X(l,v=>{_(v)});const n=f([]);X(()=>o.bookedDate,v=>{n.value=v},{immediate:!0});const y=()=>{l.value=null};return(v,A)=>{const B=P("VDatePicker");return i(),u(I,null,[k(B,{locale:"en",columns:d(p),"min-date":d(s)(),"max-date":d(a)(),"select-attribute":x.value,"drag-attribute":x.value,masks:{weekdays:"WW"},"disabled-dates":n.value,modelValue:l.value,"onUpdate:modelValue":A[0]||(A[0]=H=>l.value=H),modelModifiers:{range:!0},"is-expanded":"",class:"w-full"},null,8,["columns","min-date","max-date","select-attribute","drag-attribute","disabled-dates","modelValue"]),e("button",{type:"button",onClick:y,class:"mt-2 block text-sm text-secondary"}," 重新選取 ")],64)}}},Ne="/House-Hotel-Trio/assets/albumleft-b9dc3901.svg",Ue="/House-Hotel-Trio/assets/albumright-b5b4758a.svg",Ge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAADtJREFUKBVjZsADLNy4FkgqsT3AqQSkwMKVO2GYKwB6jwmnF9ElCIYJTMNQU8gIczg22tydewIj498JAFYrH8g8xCDXAAAAAElFTkSuQmCC";const qe={key:0},Qe={class:"relative mx-auto flex h-screen justify-center pb-[76px] pt-[76px]"},ze=["src"],Le=e("img",{src:Ne,alt:"albumArrow"},null,-1),We=[Le],Je=e("img",{src:Ue,alt:"albumRight"},null,-1),Ye=[Je],Ze={key:1,class:"relative"},Ke=e("div",{class:"image-mask pointer-events-none absolute h-full w-full"},null,-1),Xe=["src"],et=e("div",{class:"swiper-pagination room-carousel"},null,-1),tt={class:"absolute left-32 right-[343px] top-20 z-10 flex w-[100px] items-center gap-2 whitespace-nowrap text-sm text-primary"},st=e("img",{src:Ge,alt:"back-arrow"},null,-1),ot={class:"mx-auto mt-[58%] max-w-[44%] md:mt-[556px]"},lt={key:0,class:"mb-3 text-center text-4xl text-primary"},at=e("span",{class:"ml-3 text-lg text-primary lg:text-xl"},"／",-1),nt={class:"ml-4 text-xl text-primary"},it={key:1,class:"mb-3 text-center text-3xl text-primary md:text-4xl"},rt=e("span",{class:"ml-3 text-lg text-primary lg:text-xl"},"／",-1),ct=e("span",{class:"ml-4 text-xl text-primary"},"1晚",-1),dt={__name:"RoomCarousel",props:{room:{type:Object,default:()=>{},required:!0}},emits:["getShowModal"],setup(t,{emit:o}){const c=[Ce,De,Se,$e,Ve],p=z(),{bookingDate:x}=Q(p),m=f(!1),b=()=>{m.value=!m.value},_=()=>{o("getShowModal")};return(s,a)=>{const l=P("RouterLink");return m.value?(i(),u("div",qe,[(i(),q(we,{to:"body"},[e("div",{class:"album-mask absolute left-0 top-0 z-20 h-full w-full",onClick:b},[k(d(oe),{modules:c,navigation:{nextEl:".next-btn",prevEl:".prev-btn",clickable:!0},speed:800},{default:M(()=>[(i(!0),u(I,null,J(t.room.imageUrl,(n,y)=>(i(),q(d(se),{key:y},{default:M(()=>[e("div",Qe,[e("img",{src:n,alt:"room-photo",class:"block",onClick:a[0]||(a[0]=j(()=>{},["stop"]))},null,8,ze)])]),_:2},1024))),128)),e("div",{class:"prev-btn absolute left-3 top-[50%] z-50 cursor-pointer hover:scale-110 md:left-32",onClick:a[1]||(a[1]=j(()=>{},["stop"]))},We),e("div",{class:"next-btn absolute right-3 top-[50%] z-50 cursor-pointer hover:scale-110 md:right-32",onClick:a[2]||(a[2]=j(()=>{},["stop"]))},Ye)]),_:1},8,["navigation"])])]))])):(i(),u("div",Ze,[k(d(oe),{modules:c,pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},autoplay:{delay:2e3},speed:1e3,loop:!0,class:"h-screen"},{default:M(()=>[(i(!0),u(I,null,J(t.room.imageUrl,(n,y)=>(i(),q(d(se),{key:y},{default:M(()=>[Ke,e("img",{src:n,alt:"room-photo",class:"h-full w-full object-cover"},null,8,Xe)]),_:2},1024))),128)),et]),_:1},8,["pagination"]),e("div",{class:"absolute bottom-0 left-0 right-0 top-0 z-10 flex cursor-pointer flex-col",onClick:b},[e("div",tt,[st,k(l,{to:"/"},{default:M(()=>[G("查看其他房型")]),_:1})]),e("div",ot,[d(x).totalNights>0?(i(),u("p",lt,[G(" $"+r(d(x).totalPrice)+" ",1),at,e("span",nt,r(d(x).totalNights)+"晚",1)])):(i(),u("p",it,[G(" $"+r(t.room.normalDayPrice)+" ",1),rt,ct])),e("button",{class:"flex w-full justify-center bg-primary py-2 text-center text-base font-semibold text-white hover:bg-secondary md:text-xl lg:whitespace-nowrap lg:px-16",onClick:[a[3]||(a[3]=j(()=>{},["stop"])),_]}," Booking now ")])])]))}}},ut="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAAXNSR0IArs4c6QAAAOBJREFUKBVjNnfj/iCrxPbiyb3fFxjwAFNXbgNZFbbrUkpsO5kY/zMUMDAxzLdw5U7ApQekgYmRYT8jw/+Np3d/vcAMskFGie0hSCOIRrcRWcOJXd/ABjODTMelEZsGkHqwJmwaJZXZGGBOgtkAUgcCjBAKQYL9BnTq//8MH0B+QNcAUsmEUA5h/WVguADWwMggwPCf8QC6PIgPdx6Ig+wHoIaJuAIHrglZA8hJuAIHbhO6BpAECODSyIxLA0Qbdo2MoGQEDKUN2EIJphFEw0L17z8GQ7DnkSXxsUGuAskDAGQZk2E7rT98AAAAAElFTkSuQmCC",mt="/House-Hotel-Trio/assets/icon_amenities_Air-Conditioner-74d411d4.svg",pt="/House-Hotel-Trio/assets/icon_amenities_Breakfast-a0fad61a.svg",xt="/House-Hotel-Trio/assets/icon_amenities_Child-Friendly-cebb8c13.svg",ht="/House-Hotel-Trio/assets/icon_amenities_Great-View-b8d611e5.svg",gt="/House-Hotel-Trio/assets/icon_amenities_Mini-Bar-1885e108.svg",ft="/House-Hotel-Trio/assets/icon_amenities_Pet-Friendly-6c7addd2.svg",_t="/House-Hotel-Trio/assets/icon_amenities_Refrigerator-10509a21.svg",yt="/House-Hotel-Trio/assets/icon_amenities_Room-Service-6e9a6847.svg",vt="/House-Hotel-Trio/assets/icon_amenities_Smoke-Free-5b0ddbd3.svg",bt="/House-Hotel-Trio/assets/icon_amenities_Sofa-087c4de9.svg",wt="/House-Hotel-Trio/assets/icon_amenities_Television-3a89c15f.svg",kt="/House-Hotel-Trio/assets/icon_amenities_Wi-Fi-9359dbbd.svg",At="/House-Hotel-Trio/assets/reservationflow_step_1-891c76e9.svg",ne="/House-Hotel-Trio/assets/icon_datepicker_arrow_right-2c54f39f.svg",Ct="/House-Hotel-Trio/assets/reservationflow_step_2-f1c48035.svg",Dt="/House-Hotel-Trio/assets/reservationflow_step_3-844fe6bf.svg",ue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAABgUlEQVQokX2SvUtbYRTGz40Fi/Yf6Kqbkw5ugovBRSQOokNBBz+CYAsZ4mQo1dhYDGlAk5oYiRep7a0aGwWNtH602oCLg4v/R9HrlXB+HTQh0dgHDrwvz/m9cJ7ziqry43h9BZD/KRR906mqtLrrmyV/lssAbGSTi4BUg+dTgW6A/qEWCxABJDjnDQBEYv53D0HTivSqKum1D/mSd3+o2T+0VgAy20sJoAaQo9Pt8UKhQFd/w2fAVfFg8dLV1zgCEIn7p3/+2hpzHFtTqzOnRb8qBLi+bC7MA9g3V/o7v3NZDXCJiBiGIYZhiIjoWiZmXtt/eV5bZ5xf/NkszlbWU6nc4bdRgMmZgb1ofCIISsp8H35yHbkDa1hVMb+GSymtZxNxgA7Py6FH4Pfd9ICqEl7wHZSnBEgsFQg5jk3PqyZvCVxMT3lUFa/PvfVw6GINjrW9vrav+LT8dhYQUVWS5vQJ8OJRrGXJrlofo7e3zt03anXXN1drLte998w32dsOyD+LnGSCBai5PgAAAABJRU5ErkJggg==",me="/House-Hotel-Trio/assets/icon_booking_success-02140359.svg",St={key:0,class:"flex w-full flex-col-reverse items-stretch justify-between border border-primary bg-white font-tc lg:flex-row"},$t={class:"bg-primary lg:w-[445px]"},Vt={class:"px-[30px] pb-[26px] pt-[50px] lg:px-[65px]"},Bt={for:"name",class:"text-[14px] text-white"},Ht=e("span",null,"姓名",-1),Rt={for:"name",class:"mt-4 text-[14px] text-white"},Ft=e("span",null,"手機號碼",-1),Mt={class:"mt-4"},Tt=e("label",{for:"",class:"mt-4 text-[14px] text-white"},"入住日期 ",-1),It=["value"],Ot={class:"mt-4"},Pt=e("label",{for:"",class:"text-[14px] text-white"},"退房日期",-1),jt=["value"],Et={key:0,class:"mt-4 w-full border-b border-[#949C7C] pb-[14px] text-[#949C7C]"},Nt={key:0},Ut={key:1},Gt={key:2,class:"text-sm text-yellow-400"},qt={class:"mt-4 text-right text-white"},Qt=e("p",{class:"text-sm"},"總計",-1),zt={class:"openSans text-[26px] font-semibold"},Lt=["disabled","onClick"],Wt=e("p",{class:"mt-[18px] text-center text-xs text-white"}," 此預約系統僅預約功能，並不會對您進行收費 ",-1),Jt={class:"relative px-[30px] lg:pr-[20px] xl:pr-[100px]"},Yt={class:"mt-2 flex items-center md:mt-12"},Zt={class:"mt-[30px] inline-block whitespace-nowrap text-2xl font-black md:mt-0"},Kt=e("div",{class:"ml-2 mt-[30px] h-[1px] w-[80%] border-b md:mt-0"},null,-1),Xt={class:"mt-2 text-sm leading-[1.7]"},es=e("br",null,null,-1),ts={class:"my-[26px] flex flex-wrap gap-x-[30px]"},ss=e("img",{src:mt,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),os=e("p",{class:"mt-2 text-[#949C7C]"},"空調",-1),ls=[ss,os],as=e("img",{src:pt,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),ns=e("p",{class:"mt-2 text-[#949C7C]"},"早餐",-1),is=[as,ns],rs=e("img",{src:xt,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),cs=e("p",{class:"mt-2 text-[#949C7C]"},"適合小孩",-1),ds=[rs,cs],us=e("img",{src:ht,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),ms=e("p",{class:"mt-2 text-[#949C7C]"},"美麗的風景",-1),ps=[us,ms],xs=e("img",{src:gt,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),hs=e("p",{class:"mt-2 text-[#949C7C]"},"Mini Bar",-1),gs=[xs,hs],fs=e("img",{src:ft,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),_s=e("p",{class:"mt-2 text-[#949C7C]"},"攜帶寵物",-1),ys=[fs,_s],vs=e("img",{src:_t,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),bs=e("p",{class:"mt-2 text-[#949C7C]"},"冰箱",-1),ws=[vs,bs],ks=e("img",{src:yt,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),As=e("p",{class:"mt-2 text-[#949C7C]"},"客房服務",-1),Cs=[ks,As],Ds=e("img",{src:vt,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),Ss=e("p",{class:"mt-2 text-[#949C7C]"},"全面禁菸",-1),$s=[Ds,Ss],Vs=e("img",{src:bt,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),Bs=e("p",{class:"mt-2 text-[#949C7C]"},"沙發",-1),Hs=[Vs,Bs],Rs=e("img",{src:wt,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),Fs=e("p",{class:"mt-2 text-[#949C7C]"},"電話",-1),Ms=[Rs,Fs],Ts=e("img",{src:kt,alt:"icon",class:"h-[30px] w-[30px]"},null,-1),Is=e("p",{class:"mt-2 text-[#949C7C]"},"WIFI",-1),Os=[Ts,Is],Ps=e("div",{class:"mt-2 flex items-center"},[e("h3",{class:"inline-block whitespace-nowrap text-[16px] font-black"},"訂房資訊"),e("div",{class:"ml-2 h-[1px] w-[100%] border-b"})],-1),js={class:"my-[12px] text-[10px]"},Es={class:"py-[2px]"},Ns=e("li",{class:"mt-[6px] py-[2px]"},"・平日定義週一至週四；假日定義週五至週日及國定假日。",-1),Us={class:"mt-[6px] py-[2px]"},Gs=e("li",{class:"mt-[6px] py-[2px]"}," ・若您有任何問題，歡迎撥打 03-8321155 ( 服務時間 週一至週六 10:00 - 18:00 )。 ",-1),qs=Y('<div class="mt-2 flex items-center"><h3 class="inline-block whitespace-nowrap text-[16px] font-black">預約流程</h3><div class="ml-2 h-[1px] w-[100%] border-b"></div></div><ul class="my-[19px] flex flex-col items-center justify-between gap-2 md:flex-row md:items-start"><li class="rounded-b-lg border border-[#949C7C] text-center"><div class="flex h-[50px] w-[160px] items-center justify-center bg-[#949C7C]"><img src="'+At+'" alt="icon"></div><div class="my-[12px] h-[64px] w-[160px] px-2 text-[10px]">送出線上預約單</div></li><img src="'+ne+'" alt="icon" class="mt-5 hidden md:block"><li class="rounded-b-lg border border-[#949C7C] text-center"><div class="flex h-[50px] w-[160px] items-center justify-center bg-[#949C7C]"><img src="'+Ct+'" alt="icon"></div><div class="my-[12px] h-[64px] w-[160px] px-2 text-[10px]"> 系統立即回覆是否預訂成功 並以簡訊發送訂房通知 <br>(若未收到簡訊請來電確認) </div></li><img src="'+ne+'" alt="icon" class="mt-5 hidden md:block"><li class="rounded-b-lg border border-[#949C7C] text-center"><div class="flex h-[50px] w-[160px] items-center justify-center bg-[#949C7C]"><img src="'+Dt+'" alt="icon"></div><div class="my-[12px] h-[64px] w-[160px] px-2 text-[10px]"> 入住當日憑訂房通知 以現金或刷卡付款即可 <br>(僅接受VISA.JCB.銀聯卡) </div></li></ul>',2),Qs={key:1,class:"relative flex h-[740px] w-full flex-col items-center justify-center border border-primary bg-primary py-[120px] text-center font-tc text-white lg:h-[600px]"},zs=e("img",{src:ue,alt:"icon"},null,-1),Ls=[zs],Ws=Y('<div class="flex"><img src="'+me+'" alt="icon"></div><h2 class="mt-[40px] text-[32px] lg:text-[50px]">預約成功</h2><p class="mt-[40px] px-[30px] lg:hidden"> 請留意簡訊發送訂房通知，入住當日務必出示此訂房通知，<br>若未收到簡訊請來電確認，謝謝您 </p><p class="mt-[40px] hidden px-[30px] lg:block"> 請留意簡訊發送訂房通知，<br>入住當日務必出示此訂房通知，<br>若未收到簡訊請來電確認，謝謝您 </p>',4),Js={key:2,class:"relative flex h-[740px] w-full flex-col items-center justify-center border border-primary bg-primary py-[120px] text-center font-tc text-white lg:h-[600px]"},Ys=e("img",{src:ue,alt:"icon"},null,-1),Zs=[Ys],Ks=Y('<div class="flex"><img src="'+me+'" alt="icon"></div><h2 class="mt-[40px] text-[32px] lg:text-[50px]">預約失敗</h2><p class="mt-[40px] px-[30px] lg:hidden"> 哎呀！晚了一步！ <br>您預約的日期已經被預約走了， <br>再看看其它房型吧 </p><p class="mt-[40px] hidden px-[30px] lg:block"> 哎呀！晚了一步！您預約的日期已經被預約走了， <br>再看看其它房型吧 </p>',4),Xs={__name:"BookingForm",props:{room:{type:Object,default:()=>{},required:!0},getRoomDetail:{type:Function,required:!0},bookedDate:{type:Array,default:()=>[],required:!0}},emits:["getCloseModal","formValue"],setup(t,{emit:o}){const c=t,x=`${re().params.id}`,m=f(!0),b=f(!1),_=f(!1),s=z(),{dateRange:a,bookingDate:l}=Q(s),{minDate:n,maxDate:y,updateRange:v}=s,A=()=>{o("getCloseModal")},B=()=>{m.value=!0,_.value=!1,b.value=!1,H()},H=()=>{o("formValue",m.value)},h=Object.values(c.room.amenities).filter(F=>F===!0),S=F=>F?/^(09)[0-9]{8}$/.test(F)?!0:"請輸入09開頭的10位數手機號碼":"*此欄位為必填",C=f({start:"",end:""});a.value!==null&&(C.value.start=a.value.start,C.value.end=a.value.end),ke(()=>{v(C.value)});const Z=f({highlight:{start:{style:{backgroundColor:"#38470B"},contentStyle:{color:"#ffffff"}},base:{style:{backgroundColor:"rgba(56, 71, 11, 0.2)"},contentStyle:{color:"#000"}},end:{style:{backgroundColor:"#949C7C"},contentStyle:{color:"#ffffff"}}}}),pe=F=>{const $=[],E=JSON.parse(JSON.stringify(F.value)),R=new Date(E.start),N=new Date(E.end);for(;N-R>=0;){const W=R.getFullYear(),O=N.getMonth(),D=O<9?"0"+(O+1):O+1,U=R.getDate().toString().length==1?"0"+R.getDate():R.getDate();$.push(W+"-"+D+"-"+U),R.setDate(R.getDate()+1)}return $},xe=V(()=>pe(C)),T=ie({name:"",tel:"",date:xe}),he=async()=>{try{(await Be(x,T)).status===200&&(m.value=!1,b.value=!0,T.name="",T.tel="",c.getRoomDetail(),H())}catch{m.value=!1,_.value=!0,H()}},K=V(()=>[...c.bookedDate]),ge=V(()=>l.value.totalDays>0&&l.value.weekends===0&&l.value.totalNights!==0),fe=V(()=>l.value.totalDays>0&&l.value.weekends>0),_e=V(()=>l.value.totalNights<=0);return(F,$)=>{const E=P("ErrorMessage"),R=P("VField"),N=P("VDatePicker"),W=P("VForm");return i(),u(I,null,[m.value?(i(),u("div",St,[e("div",$t,[e("div",Vt,[k(W,null,{default:M(({meta:O})=>[e("label",null,[e("div",Bt,[Ht,k(E,{name:"name",class:"ml-2 text-yellow-400"})]),k(R,{rules:{required:"*此欄位為必填"},label:"此欄位",name:"name",type:"text",id:"name",class:"mt-[7px] h-[38px] w-full p-2 outline-none lg:w-[315px]",placeholder:"請填寫預定人姓名",modelValue:T.name,"onUpdate:modelValue":$[0]||($[0]=D=>T.name=D)},null,8,["modelValue"])]),e("label",null,[e("div",Rt,[Ft,k(E,{name:"phone",class:"ml-2 text-yellow-400"})]),k(R,{name:"phone",type:"tel",rules:S,id:"name",class:"mt-[7px] h-[38px] w-full p-2 outline-none lg:w-[315px]",placeholder:"請填寫預定人手機號碼",maxLength:"10",modelValue:T.tel,"onUpdate:modelValue":$[1]||($[1]=D=>T.tel=D)},null,8,["modelValue"])]),e("div",Mt,[Tt,k(N,{modelValue:C.value.start,"onUpdate:modelValue":$[2]||($[2]=D=>C.value.start=D),locale:"en","select-attribute":Z.value,masks:{weekdays:"WW"},"min-date":d(n)(),"max-date":d(y)(),"disabled-dates":K.value,"is-required":""},{default:M(({inputValue:D,inputEvents:U})=>[e("input",ee({value:D},te(U,!0),{class:"mt-[7px] block h-[38px] w-full p-2 font-normal outline-none lg:w-[315px]",placeholder:"請填寫入住日期"}),null,16,It)]),_:1},8,["modelValue","select-attribute","min-date","max-date","disabled-dates"])]),e("div",Ot,[Pt,k(N,{modelValue:C.value.end,"onUpdate:modelValue":$[3]||($[3]=D=>C.value.end=D),locale:"en","select-attribute":Z.value,masks:{weekdays:"WW"},"min-date":d(n)(),"max-date":d(y)(),"disabled-dates":K.value,"is-required":""},{default:M(({inputValue:D,inputEvents:U})=>[e("input",ee({value:D},te(U,!0),{class:"mt-[7px] block h-[38px] w-full p-2 font-normal outline-none lg:w-[315px]",placeholder:"請填寫退房日期"}),null,16,jt)]),_:1},8,["modelValue","select-attribute","min-date","max-date","disabled-dates"])]),d(l).totalDays?(i(),u("div",Et,[ge.value?(i(),u("p",Nt,r(d(l).totalDays)+"天，"+r(d(l).weekdays)+"晚平日 ",1)):g("",!0),fe.value?(i(),u("p",Ut,r(d(l).totalDays)+"天，"+r(d(l).weekdays)+"晚平日，"+r(d(l).weekends)+"晚假日 ",1)):g("",!0),_e.value?(i(),u("span",Gt,"請先輸入預定日期")):g("",!0)])):g("",!0),e("div",qt,[Qt,e("p",zt,"$"+r(d(l).totalPrice),1)]),e("button",{type:"button",disabled:!O.valid,class:w([O.valid?"border-white  text-white":"border-gray-400  text-gray-400","duration-totalDay00 mt-4 w-full border py-2 text-[18px] font-bold hover:bg-white hover:text-primary"]),onClick:j(he,["prevent"])}," 確認送出 ",10,Lt),Wt]),_:1})])]),e("div",Jt,[e("img",{src:ut,onClick:A,alt:"icon",class:"absolute right-[28px] top-[28px] cursor-pointer md:right-[30px] md:top-[38px] lg:right-[38px]"}),e("div",Yt,[e("h2",Zt,r(t.room.name),1),Kt]),e("p",Xt,[G(r(t.room.descriptionShort.GuestMax)+"人・ "+r(t.room.descriptionShort.Bed[0]==="Single"?"單人床":"雙人床")+"・ "+r(t.room.amenities.Breakfast?"附早餐・":"不附早餐・")+" 衛浴"+r(t.room.descriptionShort["Private-Bath"])+"間・ "+r(t.room.descriptionShort.Footage)+"平方公尺",1),es,G(" 平日（一～四）價格："+r(t.room.normalDayPrice)+" / 假日（五〜日）價格："+r(t.room.holidayPrice),1)]),e("ul",ts,[t.room.amenities["Air-Conditioner"]?(i(),u("li",{key:0,class:w(["flex flex-col items-center text-[10px] text-primary",d(h).length>7?"w-[60px] py-2":"py-1"])},ls,2)):g("",!0),t.room.amenities.Breakfast?(i(),u("li",{key:1,class:w(["flex flex-col items-center text-[10px] text-primary",d(h).length>7?"w-[60px] py-2":"py-1 "])},is,2)):g("",!0),t.room.amenities["Child-Friendly"]?(i(),u("li",{key:2,class:w(["flex flex-col items-center text-[10px] text-primary",d(h).length>7?"w-[60px] py-2":"py-1 "])},ds,2)):g("",!0),t.room.amenities["Great-View"]?(i(),u("li",{key:3,class:w(["flex flex-col items-center text-[10px] text-primary",d(h).length>7?"w-[60px] py-2":"py-1 "])},ps,2)):g("",!0),t.room.amenities["Mini-Bar"]?(i(),u("li",{key:4,class:w(["flex flex-col items-center text-[10px] text-primary",d(h).length>7?"w-[60px] py-2":"py-1 "])},gs,2)):g("",!0),t.room.amenities["Pet-Friendly"]?(i(),u("li",{key:5,class:w(["flex flex-col items-center text-[10px] text-primary",d(h).length>7?"w-[60px] py-2":"py-1 "])},ys,2)):g("",!0),t.room.amenities.Refrigerator?(i(),u("li",{key:6,class:w(["flex flex-col items-center text-[10px] text-primary",d(h).length>7?"w-[60px] py-2":"py-1 "])},ws,2)):g("",!0),t.room.amenities["Room-Service"]?(i(),u("li",{key:7,class:w(["flex flex-col items-center text-[10px] text-primary",d(h).length>7?"w-[60px] py-2":"py-1 "])},Cs,2)):g("",!0),t.room.amenities["Smoke-Free"]?(i(),u("li",{key:8,class:w(["flex flex-col items-center text-[10px] text-primary",d(h).length>7?"w-[60px] py-2":"py-1 "])},$s,2)):g("",!0),t.room.amenities.Sofa?(i(),u("li",{key:9,class:w(["flex flex-col items-center text-[10px] text-primary",d(h).length>7?"w-[60px] py-2":"py-1 "])},Hs,2)):g("",!0),t.room.amenities.Television?(i(),u("li",{key:10,class:w(["flex flex-col items-center text-[10px] text-primary",d(h).length>7?"w-[60px] py-2":"py-1 "])},Ms,2)):g("",!0),t.room.amenities["Wi-Fi"]?(i(),u("li",{key:11,class:w(["flex flex-col items-center text-[10px] text-primary",d(h).length>7?"w-[60px] py-2":"py-1 "])},Os,2)):g("",!0)]),Ps,e("ul",js,[e("li",Es," ・入住時間：最早"+r(t.room.checkInAndOut.checkInEarly)+"，最晚"+r(t.room.checkInAndOut.checkInLate)+"；退房時間："+r(t.room.checkInAndOut.checkOut)+"，請自行確認行程安排。 ",1),Ns,e("li",Us," ・好室旅店"+r(t.room.amenities["Smoke-Free"]===!0?"全面禁止吸菸。":"房間內可吸菸。"),1),Gs]),qs])])):g("",!0),b.value?(i(),u("div",Qs,[e("button",{type:"button",onClick:B,class:"absolute right-[39px] top-[39px] cursor-pointer"},Ls),Ws])):g("",!0),_.value?(i(),u("div",Js,[e("button",{type:"button",onClick:B,class:"absolute right-[39px] top-[39px] cursor-pointer"},Zs),Ks])):g("",!0)],64)}}},eo={key:0,class:"detail text-primary md:pl-7"},to={class:"mb-[47px] flex justify-between"},so={class:"text-2xl md:text-4xl"},oo={class:"flex text-xs font-bold"},lo={class:"whitespace-nowrap"},ao={class:"whitespace-nowrap"},no={class:"whitespace-nowrap"},io={class:"whitespace-nowrap"},ro={class:"whitespace-nowrap"},co={class:"mb-[35px] text-xs"},uo={class:"mb-12 text-xs font-light md:mb-8"},mo=e("li",null,"・您需要的一切為您準備：床單和毯子，毛巾，肥皂和洗髮水，吹風機",-1),po=e("li",null,"・房間裡有AC，當然還有WiFi。",-1),xo={class:"grid grid-cols-6 flex-wrap"},ho={class:"flex flex-col items-center justify-center"},go={class:"mb-2 flex h-[40px] items-center"},fo=["src"],_o={class:"text-xs"},yo=["src"],vo={__name:"SingleRoomDetail",props:{room:{type:Object,default:()=>{},required:!0}},setup(t){const o=t,c=V(()=>Object.keys(o.room.amenities)),p=V(()=>Object.values(o.room.amenities)),x=s=>`../src/assets/images/amenities/icon_amenities_${s}.svg`,m=s=>{let a=["Wi-fi","早餐","Mini-Bar","Room-Service","電話","空調","冰箱","沙發","漂亮的視野","全面禁菸","適合兒童","攜帶寵物"],l=c.value.indexOf(s);return a[l]},b=s=>{let a=c.value.indexOf(s);return p.value[a]===!0?"../src/assets/images/amenities/icons-ok.svg":"../src/assets/images/amenities/icons-cancel.svg"},_=s=>{let a=c.value.indexOf(s);return p.value[a]===!0};return(s,a)=>(i(),u(I,null,[k(ce,{active:!t.room.id},null,8,["active"]),t.room.id?(i(),u("div",eo,[e("div",to,[e("h1",so,r(t.room.name),1),e("ul",oo,[e("li",lo,r(t.room.descriptionShort.GuestMax)+"人・",1),e("li",ao,r(t.room.descriptionShort.GuestMax===1?"單人床":"雙人床")+"・ ",1),e("li",no,r(t.room.amenities.Breakfast===!0?"附早餐":"不附早餐")+"・ ",1),e("li",io,"衛浴"+r(t.room.descriptionShort["Private-Bath"])+"間・",1),e("li",ro,r(t.room.descriptionShort.Footage)+"平方公尺",1)])]),e("ul",co,[e("li",null," 平日（一～四）價格："+r(t.room.normalDayPrice)+" / 假日（五〜日）價格："+r(t.room.holidayPrice),1),e("li",null," 入住時間："+r(t.room.checkInAndOut.checkInEarly)+"（最早）/ "+r(t.room.checkInAndOut.checkInLate)+"（最晚） ",1),e("li",null,"退房時間："+r(t.room.checkInAndOut.checkOut),1)]),e("ul",uo,[e("li",null," ・"+r(t.room.descriptionShort.GuestMax===1?"單人間":"多人間")+"僅供"+r(t.room.descriptionShort.GuestMax)+"位客人使用。 ",1),e("li",null," ・臥室配有"+r(t.room.descriptionShort.GuestMax===1?"單人床":"雙人床")+"和"+r(t.room.descriptionShort["Private-Bath"]==!0?"私人浴室":"")+"。 ",1),mo,po]),e("ul",xo,[(i(!0),u(I,null,J(c.value,(l,n)=>(i(),u("li",{key:n,class:"relative mb-[25px]"},[e("div",{class:w(`absolute z-10 h-full w-full bg-white filter ${_(l)?"opacity-0":"opacity-80"}`)},null,2),e("div",ho,[e("div",go,[e("img",{src:x(l),alt:"icon",class:"h-auto"},null,8,fo)]),e("p",_o,r(m(l)),1)]),e("img",{src:b(l),alt:"icon",class:"absolute right-5 top-0"},null,8,yo)]))),128))])])):g("",!0)],64))}};const bo={class:"container relative mx-auto flex flex-wrap"},wo={class:"h-[50vh] w-full overflow-hidden md:h-screen md:w-[42%] md:pr-4"},ko={class:"mb-4 h-screen w-full pl-2 pr-2 pt-4 md:w-[58%] md:overflow-y-auto md:pl-4 md:pr-0 md:pt-[120px]"},So={__name:"ReservationView",setup(t){const{changeStateTrue:o}=le(),{changeStateFalse:c}=le(),p=z(),{normalDayPrice:x,holidayPrice:m}=Q(p),_=`${re().params.id}`,s=f({}),a=f([]),l=f([]),n=f(!1),y=()=>{n.value=!n.value},v=()=>{n.value=!n.value},A=h=>{const S=[];return h.forEach(C=>{S.push(C.date)}),S},B=async()=>{try{const h=await He(_);h.status===200&&(s.value=await h.data.room[0],a.value=await h.data.booking,l.value=A(a.value),x.value=s.value.normalDayPrice,m.value=s.value.holidayPrice,c())}catch(h){Re(h.message)}},H=f(!0),L=h=>{H.value=h};return Ae(()=>{o(),B()}),(h,S)=>(i(),u(I,null,[k(ce),e("div",bo,[e("div",wo,[s.value?(i(),q(dt,{key:0,room:s.value,onGetShowModal:y},null,8,["room"])):g("",!0)]),e("div",ko,[k(vo,{room:s.value,class:"h-auto w-full"},null,8,["room"]),k(Ee,{"booked-date":l.value},null,8,["booked-date"])])]),n.value?(i(),u("div",{key:0,class:w(H.value?"absolute left-1/2 top-1/2 z-30 h-full w-full translate-x-[-50%] translate-y-[-50%] bg-white/40 backdrop-invert backdrop-opacity-10 md:h-[1950px] lg:left-1/2 lg:top-1/2 lg:h-full lg:translate-x-[-50%] lg:translate-y-[-50%]":"absolute left-1/2 top-1/2 z-30 h-full w-full translate-x-[-50%] translate-y-[-50%] bg-white/40 backdrop-invert backdrop-opacity-10 md:h-[740px] lg:left-1/2 lg:top-1/2 lg:h-full lg:translate-x-[-50%] lg:translate-y-[-50%]"),onClick:v},[e("div",{onClick:S[0]||(S[0]=j(()=>{},["stop"])),class:w(H.value?"container absolute left-1/2  top-[155%]  z-30 mx-auto flex  translate-x-[-50%] translate-y-[-50%] flex-wrap md:top-[65%]  md:translate-y-[-50%] lg:left-1/2 lg:top-1/2 lg:w-[1110px] lg:translate-x-[-50%] lg:translate-y-[-50%]":"container absolute left-1/2  top-[50%]  z-30 mx-auto flex translate-x-[-50%] translate-y-[-50%] flex-wrap md:top-[25%]  md:translate-y-[-25%] lg:left-1/2 lg:top-1/2 lg:w-[1110px] lg:translate-x-[-50%] lg:translate-y-[-50%]")},[k(Xs,{onGetCloseModal:v,room:s.value,"booked-date":l.value,"get-room-detail":B,onFormValue:L},null,8,["room","booked-date"])],2)],2)):g("",!0)],64))}};export{So as default};
